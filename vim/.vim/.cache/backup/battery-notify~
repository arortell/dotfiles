#!/bin/bash -
#===============================================================================
#
#          FILE: battery-notify.sh
#
#         USAGE: ./battery-notify.sh
#
#   DESCRIPTION: 
#
#       OPTIONS: ---
#  REQUIREMENTS: ---
#          BUGS: ---
#         NOTES: ---
#        AUTHOR: Adam Ortell (), arortell80@gmail.com
#  ORGANIZATION: 
#       CREATED: 05/21/2018 01:06:37 PM
#      REVISION:  ---
#===============================================================================

set -o nounset                                  # Treat unset variables as an error
set -eo pipefail                                # exit if ANY command fails,errors from pipe

progname="$(basename "$0")"                     # name of script

# battery percentage
status=$(upower -i $(upower -e | grep '/battery') | grep --color=never -E percentage|xargs|cut -d' ' -f2|sed s/%//)

# check if less than 10 percent
if [[ "$status" -le 10 ]]; then
  twmnc "Battery is at "${status}%". Plug in the charger!"
fi
