#!/bin/bash -
#===============================================================================
#
#          FILE: xmobar.sh
#
#         USAGE: ./xmobar.sh
#
#   DESCRIPTION: 
#
#       OPTIONS: ---
#  REQUIREMENTS: ---
#          BUGS: ---
#         NOTES: ---
#        AUTHOR: Adam Ortell (), arortell80@gmail.com
#  ORGANIZATION: 
#       CREATED: 11/04/2018 01:36:55 PM
#      REVISION:  ---
#===============================================================================

set -o nounset                                  # Treat unset variables as an error
set -eo pipefail                                # exit if ANY command fails,errors from pipe

progname="$(basename "$0")"                     # name of script

colors=($(awk '/^\*color/{print $2}' .Xdefaults))

killall barstatus xmobar trayer
hlwm-xmobar-tags | xmobar -B "${colors[0]}" -F "${colors[11]}" ~/.config/xmobar/top-hlwm &
trayer --edge top --align left --tint "${colors[0]//#/0x}" --alpha 0 --transparent true --height 14 --width 5 --widthtype percent &

