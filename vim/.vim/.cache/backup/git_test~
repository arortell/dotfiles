#!/bin/bash -
#===============================================================================
#
#          FILE: git_test.sh
#
#         USAGE: ./git_test.sh
#
#   DESCRIPTION: 
#
#       OPTIONS: ---
#  REQUIREMENTS: ---
#          BUGS: ---
#         NOTES: ---
#        AUTHOR: Adam Ortell (), arortell80@gmail.com
#  ORGANIZATION: 
#       CREATED: 04/19/2018 06:51:59 AM
#      REVISION:  ---
#===============================================================================

set -o nounset                                  # Treat unset variables as an error
set -eo pipefail                                # exit if ANY command fails,errors from pipe

progname="$(basename "$0")"                     # name of script

if [ "$#" -ne  1 ]; then
  echo "Usage $progname [repo]"
  exit 1
fi


repo="${1}"

# 4 debugging
echo "$repo"

# make sure repo exists
if ! cd "$repo" &> /dev/null; then
  echo "$repo does not exist"
  exit 2
fi

# remove path from repo
repo="${repo##*/}"


# Check and if so remove . from file name
if [[ ${repo:0:1} == "." ]]; then
  repo="${repo:1}"
fi

# 4 debugging
echo "$repo"

echo "$PWD"

git add .
echo "Enter your commit message"
read -rp "Commit description: " desc
git commit -m "$desc"
#git push origin master
git push https://github.com/arortell/"$repo" master



