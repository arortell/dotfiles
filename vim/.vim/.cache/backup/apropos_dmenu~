#!/bin/bash
# morc_select - select among several dmenu applications, for i3wm
# written by Boruch Baum <boruch_baum@gmx.com>
#
menu_msg="\
1) GUI alphabetical\n\
2) GUI categorized\n\
3) all commands\n\
4) apropos commands\n\
5) apropos programming\n\
6) locate a file\n\
7) configuration, using bmenu\n\
8) i3 cheat sheet"
response=$( echo -e $menu_msg | dmenu -b -l 10 -w 250)
case $response in
1*) i3-dmenu-desktop -dmenu='dmenu -i -b -l 44 -w 300'
    ;;
2*) morc_menu
    ;;
3*) dmenu_run -b -i -l 10 -fn 'DejaVuSans-8';;
4*) # ~/.config/i3/morc_apropos -s1;;
    temp_cmd=( $(apropos --long -s1 '.*' \
      | dmenu -b -i -l 40) ) \
    && terminologyl -e "man ${temp_cmd[0]}"
    ;;
5*) # ~/.config/i3/morc_apropos -s2,3,4,5,6,7,8;;
    temp_cmd=( $(apropos --long -s2,3,4,5,6,7,8 '.*' \
      | dmenu -b -i -l 40) ) \
    && terminology -e "man ${temp_cmd[0]}"
    ;;
6*) request=( $(echo "" \
      | dmenu -b -i -p "file pathname contains (regexp permitted):" ) ) \
    && \
      locate --regex "${request}" \
      | dmenu -p "select file to copy path to clipboard" -b -i -l 20 \
      | sed '/^\//!{s/^/\//}' \
      | tr -d "\n" \
      | xclip -selection c && notify-send "path copied to clipboard"
    ;;
7*) bmenu
    ;;
8*) cat ~/.config/i3/i3_cheat_sheet | dmenu -b -i -l 44 -w 400
    ;;
*)  ;;
esac


                  

